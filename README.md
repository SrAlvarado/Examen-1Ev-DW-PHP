[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/SrAlvarado/Examen-1Ev-DW-PHP)
"content": "# ğŸ‹ï¸â€â™‚ï¸ 4VGym: GestiÃ³n de Actividades (Examen 1Âª EvaluaciÃ³n DW)\n\nEste proyecto implementa una aplicaciÃ³n web bÃ¡sica para la gestiÃ³n de actividades de un gimnasio (**4VGym**), cumpliendo con los requisitos de arquitectura de capas, patrÃ³n DAO y seguridad (PDO) establecidos para el examen prÃ¡ctico de **Desarrollo Web en Entorno Servidor (2DAM)**.\n\n**Autor:** Markel Alvarado\n**Materia:** DWES (Desarrollo Web en Entorno Servidor)\n**Arquitectura:** PHP Nativo con PatrÃ³n DAO (Data Access Object)\n\n---\n\n## ğŸš€ 1. Funcionalidades Implementadas\n\nEl proyecto cubre todos los puntos funcionales requeridos por el examen, implementando las operaciones CRUD y la lÃ³gica de negocio:\n\n* **Listado (Punto 3):** Muestra todas las actividades programadas.\n* **Filtro por Fecha (Punto 7):** Permite filtrar las actividades por un dÃ­a especÃ­fico (sin la hora).\n* **CreaciÃ³n (Punto 4):** Formulario para aÃ±adir nuevas actividades con validaciones estrictas (campos obligatorios, tipos vÃ¡lidos, fecha futura).\n* **EdiciÃ³n (Punto 6):** Formulario para modificar una actividad existente, reutilizando la lÃ³gica de validaciÃ³n de la creaciÃ³n.\n* **Borrado (Punto 5):** Permite eliminar una actividad desde el listado, validando la existencia previa del ID.\n* **RedirecciÃ³n/SesiÃ³n (Punto 2):** El `index.php` redirige al usuario a la Ãºltima pÃ¡gina visitada (`listActivities.php` o `createActivity.php`) usando el `SessionHelper`.\n\n---\n\n## ğŸ—ï¸ 2. Arquitectura de Proyecto (Capas)\n\nEl proyecto sigue una arquitectura de tres capas bien definidas, utilizando el patrÃ³n DAO para la capa de persistencia:\n\n```\ndw_01_Eval_4VGym/\nâ”œâ”€â”€ app/                      <-- Vistas parciales (Header/Footer)\nâ”œâ”€â”€ assets/                   <-- Archivos estÃ¡ticos (CSS, JS, ImÃ¡genes de tipos de actividad)\nâ”œâ”€â”€ model/\nâ”‚   â””â”€â”€ Activity.php          <-- [DTO/Entidad] Objeto de transferencia de datos.\nâ”œâ”€â”€ persistence/              <-- CAPA DE PERSISTENCIA\nâ”‚   â”œâ”€â”€ conf/\nâ”‚   â”‚   â””â”€â”€ PersistentManager.php <-- ConexiÃ³n PDO (VersiÃ³n mÃ­nima requerida).\nâ”‚   â”œâ”€â”€ DAO/\nâ”‚   â”‚   â””â”€â”€ ActivityDAO.php   <-- [DAO] Contiene toda la lÃ³gica SQL (CRUD + Filtro).\nâ”‚   â””â”€â”€ scripts/\nâ”‚       â””â”€â”€ bbdd_actividades.sql <-- Script de creaciÃ³n de la BBDD.\nâ”œâ”€â”€ utils/\nâ”‚   â”œâ”€â”€ SessionHelper.php     <-- Utilidad para la gestiÃ³n de la sesiÃ³n y redirecciÃ³n (Punto 2).\nâ”‚   â””â”€â”€ validation_functions.php <-- Funciones de validaciÃ³n de formulario (Clean Code, Punto 4/6).\nâ”œâ”€â”€ createActivity.php        <-- [Front-Controller] Maneja POST/GET y validaciÃ³n de creaciÃ³n.\nâ”œâ”€â”€ editActivity.php          <-- [Front-Controller] Maneja GET/POST y validaciÃ³n de ediciÃ³n.\nâ”œâ”€â”€ index.php                 <-- [Front-Controller] Punto de entrada y gestiÃ³n de redirecciÃ³n.\nâ””â”€â”€ listActivities.php        <-- [Front-Controller] Listado, Filtro y LÃ³gica de Borrado.\n```\n\n---\n\n## ğŸ› ï¸ 3. ConfiguraciÃ³n e InstalaciÃ³n\n\nPara levantar y probar la aplicaciÃ³n, sigue los siguientes pasos:\n\n### 3.1. Base de Datos (BBDD)\n\n1.  Abre tu cliente de MySQL/MariaDB (ej. phpMyAdmin, HeidiSQL, o la consola).\n2.  Ejecuta el script SQL ubicado en `persistence/scripts/bbdd_actividades.sql` para crear la base de datos `4vgym` y la tabla `activities` con datos iniciales.\n\n### 3.2. ConfiguraciÃ³n de ConexiÃ³n\n\n1.  Abre el archivo `persistence/conf/PersistentManager.php`.\n2.  AsegÃºrate de que las constantes `DB_USER` y `DB_PASS` coincidan con tus credenciales locales de MySQL (por defecto, `root` y contraseÃ±a vacÃ­a).\n\n```php\nprivate const DB_HOST = 'localhost';\nprivate const DB_NAME = '4vgym';\nprivate const DB_USER = 'root'; // CAMBIAR si es necesario\nprivate const DB_PASS = '';     // CAMBIAR si es necesario\n```\n\n### 3.3. EjecuciÃ³n\n\n1.  Copia la carpeta principal del proyecto (`dw_01_Eval_4VGym`) en tu directorio de servidor web (ej. `C:\\xampp\\htdocs\\` o `var/www/html`).\n2.  Accede a la aplicaciÃ³n a travÃ©s de tu navegador:\n    `http://localhost/[ruta_a_tu_proyecto]/dw_01_Eval_4VGym/index.php`\n\n---\n\n## ğŸ›¡ï¸ 4. Principios de CÃ³digo Clave\n\n* **Seguridad:** Uso estricto de **Sentencias Preparadas (PDO)** en todo el `ActivityDAO` para prevenir ataques de InyecciÃ³n SQL.\n* **Clean Code:** ExtracciÃ³n de la lÃ³gica de validaciÃ³n a funciones dedicadas (`validation_functions.php`) para evitar la duplicaciÃ³n de cÃ³digo en los Front-Controllers de creaciÃ³n y ediciÃ³n.\n"
